{"version":3,"file":"static/js/838.f9d94869.chunk.js","mappings":"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","sources":["components/MovieReviews/MovieReviews.jsx","components/MovieReviews/MovieReviews.styled.jsx","utils/constants.js","utils/fetchData.js","utils/functions.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/nanoid/index.browser.js"],"sourcesContent":["import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { ReviewTitle, TextReview } from './MovieReviews.styled';\nimport { fetchData, getExtraInfoUrl } from 'utils/fetchData';\nimport { removeDuplicates } from 'utils/functions';\nimport { nanoid } from 'nanoid';\n\nexport default function MovieReviews() {\n  const [movieReviews, setMovieReviews] = useState(null);\n  const [error, setError] = useState(null);\n  const { id } = useParams();\n\n  useEffect(() => {\n    const URL = getExtraInfoUrl(id, 'movie', 'reviews');\n    fetchData(URL, setMovieReviews, setError);\n  }, [id]);\n\n  if (movieReviews) {\n    const { results } = movieReviews;\n    const uniqueResults = removeDuplicates(results);\n\n    if (uniqueResults.length > 0) {\n      return (\n        <div>\n          <ul>\n            {uniqueResults.map(({ author, content }) => (\n              <li key={nanoid()}>\n                <ReviewTitle>{author}</ReviewTitle>\n                <TextReview>{content}</TextReview>\n              </li>\n            ))}\n          </ul>\n        </div>\n      );\n    } else {\n      return (\n        <main>\n          {error ? error.message : <p>We couldn't find any reviews</p>}\n        </main>\n      );\n    }\n  }\n}\n","import styled from 'styled-components';\n\nexport const ReviewTitle = styled.h3`\n  margin: 5px 0 10px 20px;\n  font-weight: 500;\n`;\nexport const TextReview = styled.p`\n  margin-left: 20px;\n  font-weight: 400;\n  font-size: small;\n  column-gap: 5px;\n  column-count: 1;\n\n  @media (min-width: 550px) {\n    column-count: 2;\n  }\n  @media (min-width: 900px) {\n    column-count: 3;\n  }\n  @media (min-width: 1400px) {\n    column-count: 4;\n  }\n`;\n","// export const API_KEY = 'b30750fbe582936755a0930282f9befd';\nexport const API_KEY = process.env.REACT_APP_TMDB_API_KEY;\n\nexport const searchParams = new URLSearchParams({\n  api_key: API_KEY,\n});\n\nexport const basicURL = 'https://api.themoviedb.org/3';\n\nexport const basicBigImageURL = 'https://image.tmdb.org/t/p/w500';\n\nexport const basicSmallImageURL = 'https://image.tmdb.org/t/p/w200';\n","import {\n  searchParams,\n  basicURL,\n  basicSmallImageURL,\n  basicBigImageURL,\n} from './constants';\nimport hasNotPhotoPerson from '../images/NoPhotoPerson.png';\n\nexport function fetchData(url, setData, setError) {\n  fetch(url)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error('Something went wrong....'));\n    })\n    .then(data => {\n      setData(data);\n    })\n    .catch(error => {\n      setError(error);\n    });\n}\n\nexport function fetchImage(imageUrl, setHoveredImageUrl) {\n  const fetchUrl = basicSmallImageURL + imageUrl;\n\n  fetch(fetchUrl)\n    .then(response => response.blob())\n    .then(blob => URL.createObjectURL(blob))\n    .then(url => setHoveredImageUrl(url))\n    .catch(error => console.error(error));\n}\n\nexport function getImageUrl(profilePath, small = false) {\n  if (profilePath) {\n    return small\n      ? basicSmallImageURL + profilePath\n      : basicBigImageURL + profilePath;\n  } else {\n    return hasNotPhotoPerson;\n  }\n}\n\nexport function getExtraInfoUrl(id, type, dataType) {\n  const mediaType = type === 'tv' ? 'tv' : 'movie';\n  const dataAltType = dataType === 'cast' ? 'credits' : 'reviews';\n  const URL = `${basicURL}/${mediaType}/${id}/${dataAltType}?${searchParams}`;\n  return URL;\n}\nexport function getTrendsUrl(type, period) {\n  const mediaType = type === 'tv' ? 'tv' : 'movie';\n  const URL = `${basicURL}/trending/${mediaType}/${period}?${searchParams}`;\n  return URL;\n}\n","export function voteToPersent(vote) {\n  if (vote) {\n    const persentVote = Math.floor(vote * 10);\n    return `${persentVote}%`;\n  }\n  return '--%';\n}\n\nexport function formateDate(date) {\n  if (date) {\n    const newDate = new Date(date);\n    const formattedDate = newDate.toUTCString().slice(5, 16);\n    return formattedDate;\n  }\n  return 'no data';\n}\n\nexport function sortByField(arr, field, order = false) {\n  const direction = order ? 1 : -1;\n  return arr.sort((a, b) => {\n    if (a[field] < b[field]) {\n      return -1 * direction;\n    }\n    if (a[field] > b[field]) {\n      return 1 * direction;\n    }\n    return 0;\n  });\n}\n\nexport function makeNewArray(arr) {\n  const newArr = arr.map(item => {\n    if (item !== null) {\n      return { ...item };\n    } else {\n      return item;\n    }\n  });\n  return newArr;\n}\n\nexport function makeWithoutLowVotes(arr) {\n  const newArr = arr.map(item => {\n    if (item.vote_count < 10) {\n      return { ...item, vote_average: 0 };\n    } else {\n      return item;\n    }\n  });\n  return newArr;\n}\n\nexport function toggleOrder(order) {\n  return !order;\n}\n\nexport const getSortedFilmography = (fieldSorted, cast, order) => {\n  let sortedFilmography;\n\n  switch (fieldSorted) {\n    case 'Trends':\n      sortedFilmography = cast;\n      break;\n    case 'Rating':\n      const withoutLowVotes = makeWithoutLowVotes(cast);\n      sortedFilmography = sortByField(withoutLowVotes, 'vote_average', order);\n      break;\n    case 'Date':\n      const newArrayByDate = makeNewArray(cast);\n      sortedFilmography = sortByField(newArrayByDate, 'release_date', order);\n      break;\n    case 'Title':\n      const newArrayByTitle = makeNewArray(cast);\n      sortedFilmography = sortByField(newArrayByTitle, 'title', order);\n      break;\n\n    default:\n      sortedFilmography = cast;\n  }\n\n  return sortedFilmography;\n};\n\nexport function removeDuplicates(arr) {\n  const uniqueArr = [];\n\n  arr.forEach(({ author, content }) => {\n    if (\n      !uniqueArr.find(\n        item => item.author === author && item.content === content\n      )\n    ) {\n      uniqueArr.push({ author, content });\n    }\n  });\n\n  return uniqueArr;\n}\n\nexport const getTrendingTitle = (period, type) => {\n  const mediaType = type === 'tv' ? 'TV Shows' : 'Movies';\n  const timePeriod = period === 'week' ? 'week' : 'today';\n  return `${mediaType} trending ${timePeriod}`;\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n"],"names":["MovieReviews","useState","movieReviews","setMovieReviews","error","setError","id","useParams","useEffect","URL","getExtraInfoUrl","fetchData","results","uniqueResults","removeDuplicates","length","map","author","content","nanoid","message","ReviewTitle","styled","TextReview","API_KEY","process","searchParams","URLSearchParams","api_key","basicURL","basicBigImageURL","basicSmallImageURL","url","setData","fetch","then","response","ok","json","Promise","reject","Error","data","catch","fetchImage","imageUrl","setHoveredImageUrl","fetchUrl","blob","createObjectURL","console","getImageUrl","profilePath","small","hasNotPhotoPerson","type","dataType","mediaType","dataAltType","getTrendsUrl","period","voteToPersent","vote","persentVote","Math","floor","formateDate","date","Date","toUTCString","slice","sortByField","arr","field","order","direction","sort","a","b","makeNewArray","item","getSortedFilmography","fieldSorted","cast","sortedFilmography","vote_count","vote_average","uniqueArr","forEach","find","push","getTrendingTitle","timePeriod","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","source","getOwnPropertyDescriptors","defineProperties","size","crypto","getRandomValues","Uint8Array","reduce","byte","toString","toUpperCase"],"sourceRoot":""}