{"version":3,"file":"static/js/583.f227f5e3.chunk.js","mappings":"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","sources":["components/MovieReviews/MovieReviews.styled.jsx","components/MovieReviews/MovieReviews.jsx","../node_modules/nanoid/index.browser.js","utils/constants.js","utils/fetchData.js","utils/functions.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ReviewTitle = styled.h3`\n  margin: 5px 0 10px 20px;\n  font-weight: 500;\n`;\nexport const TextReview = styled.p`\n  margin-left: 20px;\n  font-weight: 400;\n  font-size: small;\n  column-gap: 5px;\n  column-count: 1;\n\n  @media (min-width: 550px) {\n    column-count: 2;\n  }\n  @media (min-width: 900px) {\n    column-count: 3;\n  }\n  @media (min-width: 1400px) {\n    column-count: 4;\n  }\n`;\n","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { ReviewTitle, TextReview } from './MovieReviews.styled';\nimport { fetchData } from 'utils/fetchData';\nimport { removeDuplicates } from 'utils/functions';\nimport { searchParams, basicURL } from 'utils/constants';\nimport { nanoid } from 'nanoid';\n\nexport default function MovieReviews() {\n  const [movieReviews, setMovieReviews] = useState(null);\n  const [error, setError] = useState(null);\n  const { id } = useParams();\n\n  useEffect(() => {\n    const URL = `${basicURL}/movie/${id}/reviews?${searchParams}`;\n    fetchData(URL, setMovieReviews, setError);\n  }, [id]);\n\n  if (movieReviews) {\n    const { results } = movieReviews;\n    const uniqueResults = removeDuplicates(results);\n\n    if (uniqueResults.length > 0) {\n      return (\n        <div>\n          <ul>\n            {uniqueResults.map(({ author, content }) => (\n              <li key={nanoid()}>\n                <ReviewTitle>{author}</ReviewTitle>\n                <TextReview>{content}</TextReview>\n              </li>\n            ))}\n          </ul>\n        </div>\n      );\n    } else {\n      return (\n        <main>\n          {error ? error.message : <p>We couldn't find any reviews</p>}\n        </main>\n      );\n    }\n  }\n}\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","export const API_KEY = 'b30750fbe582936755a0930282f9befd';\n\nexport const searchParams = new URLSearchParams({\n  api_key: API_KEY,\n});\n\nexport const basicURL = 'https://api.themoviedb.org/3';\n\nexport const basicBigImageURL = 'https://image.tmdb.org/t/p/w500';\n\nexport const basicSmallImageURL = 'https://image.tmdb.org/t/p/w200';\n","import { basicSmallImageURL } from './constants';\n\nexport function fetchData(url, setData, setError) {\n  fetch(url)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error('Something went wrong....'));\n    })\n    .then(data => {\n      setData(data);\n    })\n    .catch(error => {\n      setError(error);\n    });\n}\n\nexport function fetchImage(imageUrl, setHoveredImageUrl) {\n  const fetchUrl = basicSmallImageURL + imageUrl;\n\n  fetch(fetchUrl)\n    .then(response => response.blob())\n    .then(blob => URL.createObjectURL(blob))\n    .then(url => setHoveredImageUrl(url))\n    .catch(error => console.error(error));\n}\n","export function voteToPersent(vote) {\n  if (vote) {\n    const persentVote = Math.floor(vote * 10);\n    return `${persentVote}%`;\n  }\n  return '--%';\n}\n\nexport function formateDate(date) {\n  if (date) {\n    const newDate = new Date(date);\n    const formattedDate = newDate.toUTCString().slice(5, 16);\n    return formattedDate;\n  }\n  return 'no data';\n}\n\nexport function sortByField(arr, field, order = false) {\n  const direction = order ? 1 : -1;\n  return arr.sort((a, b) => {\n    if (a[field] < b[field]) {\n      return -1 * direction;\n    }\n    if (a[field] > b[field]) {\n      return 1 * direction;\n    }\n    return 0;\n  });\n}\n\nexport function makeWithoutLowVotes(arr) {\n  const newArr = arr.map(item => {\n    if (item.vote_count < 10) {\n      return { ...item, vote_average: 0 };\n    } else {\n      return item;\n    }\n  });\n  return newArr;\n}\n\nexport function toggleOrder(order) {\n  return !order;\n}\n\nexport const getSortedFilmography = (fieldSorted, cast, order) => {\n  let sortedFilmography;\n\n  switch (fieldSorted) {\n    case 'Rating':\n      const withoutLowVotes = makeWithoutLowVotes(cast);\n\n      sortedFilmography = sortByField(withoutLowVotes, 'vote_average', order);\n\n      break;\n    case 'Date':\n      sortedFilmography = sortByField(cast, 'release_date', order);\n      break;\n    case 'Title':\n      sortedFilmography = sortByField(cast, 'title', order);\n\n      break;\n    default:\n      sortedFilmography = cast;\n  }\n\n  return sortedFilmography;\n};\n\nexport function removeDuplicates(arr) {\n  const uniqueArr = [];\n\n  arr.forEach(({ author, content }) => {\n    if (\n      !uniqueArr.find(\n        item => item.author === author && item.content === content\n      )\n    ) {\n      uniqueArr.push({ author, content });\n    }\n  });\n\n  return uniqueArr;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["ReviewTitle","styled","TextReview","MovieReviews","useState","movieReviews","setMovieReviews","error","setError","id","useParams","useEffect","URL","basicURL","searchParams","fetchData","results","uniqueResults","removeDuplicates","length","map","author","content","size","crypto","getRandomValues","Uint8Array","reduce","byte","toString","toUpperCase","nanoid","message","API_KEY","URLSearchParams","api_key","basicBigImageURL","basicSmallImageURL","url","setData","fetch","then","response","ok","json","Promise","reject","Error","data","catch","fetchImage","imageUrl","setHoveredImageUrl","fetchUrl","blob","createObjectURL","console","voteToPersent","vote","persentVote","Math","floor","formateDate","date","Date","toUTCString","slice","sortByField","arr","field","order","direction","sort","a","b","getSortedFilmography","fieldSorted","cast","sortedFilmography","item","vote_count","vote_average","uniqueArr","forEach","find","push","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","source","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}